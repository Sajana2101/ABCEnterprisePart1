@model IEnumerable<ABCEnterprisePart1.Models.Product>

@{
    ViewData["Title"] = "Products";
}

@* Thin Banner Image *@
<div style="width: 100%; overflow: hidden;">
    <img src="~/Images/banner.png" 
         alt="Banner" 
         style="width: 100%; height: 80px; object-fit: cover; display: block;" />
</div>



<h2 style="font-family: 'Didot', serif; font-size: 2rem; letter-spacing: 2px; font-weight: 400;" class="text-center mb-4">
    PRODUCTS
</h2>


<form method="get" asp-action="Index" style="margin-bottom:1rem;">
    <input type="text" name="search" value="@ViewBag.Search" placeholder="Find your perfect bag..." class="form-control" style="max-width:320px; display:inline-block;" />
    <button type="submit" class="btn btn-dark">Search</button>
    @if (!string.IsNullOrEmpty(ViewBag.Search as string))
    {
        <a asp-action="Index" class="btn btn-link">Clear</a>
    }
</form>

<p>
    <a asp-action="Create" class="btn btn-dark mb-4">Add New Product</a>
</p>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    @foreach (var product in Model)
    {
        <div class="col">
            <div class="card h-100">
                @if (!string.IsNullOrEmpty(product.ImageURL))
                {
                    <img src="@product.ImageURL" class="card-img-top" style="object-fit: cover; height: 200px;" alt="@product.ProductName" />
                }
                else
                {
                    <div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
                        <span>No Image</span>
                    </div>
                }

                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">@product.ProductName</h5>
                    <p class="card-text fw-bold">@product.Price.ToString("C")</p>
                    <div class="mt-auto">
                        <a asp-action="Details" asp-route-id="@product.RowKey" class="btn btn-dark btn-sm me-1">Details</a>
                        <a asp-action="Edit" asp-route-id="@product.RowKey" class="btn btn-dark btn-sm me-1">Edit</a>
                        <a asp-action="Delete" asp-route-id="@product.RowKey" class="btn btn-dark btn-sm">Delete</a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
